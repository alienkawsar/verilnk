
> frontend@0.1.0 lint
> eslint --format json

[{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\app\\admin\\dashboard\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\app\\admin\\layout.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":5,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FileText' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LogOut' is defined but never used.","line":6,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Shield' is defined but never used.","line":6,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":34},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Globe' is defined but never used.","line":6,"column":36,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":41},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Tag' is defined but never used.","line":6,"column":43,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":46},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LinkIcon' is defined but never used.","line":6,"column":56,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":64},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":15,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":16},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[595,598],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[595,598],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleLogout' is assigned a value but never used.","line":49,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":49,"endColumn":23}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { FileText, LogOut, Shield, Globe, Tag, Link as LinkIcon } from 'lucide-react';\r\nimport { ToastProvider } from '@/components/ui/Toast';\r\n\r\nimport { logoutAdmin, fetchMe } from '@/lib/api';\r\n\r\nexport default function AdminLayout({ children }: { children: React.ReactNode }) {\r\n    const router = useRouter();\r\n    const pathname = usePathname();\r\n    const [mounted, setMounted] = useState(false);\r\n    const [user, setUser] = useState<any>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        setMounted(true);\r\n\r\n        // Skip auth check on login page\r\n        if (pathname === '/admin/login') {\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        const checkAuth = async () => {\r\n            try {\r\n                const data = await fetchMe();\r\n                if (data.user.role !== 'SUPER_ADMIN') {\r\n                    alert('Unauthorized: Super Admin access required');\r\n                    await logoutAdmin();\r\n                    router.push('/admin/login');\r\n                    return;\r\n                }\r\n                setUser(data.user);\r\n            } catch (error) {\r\n                // If 401 or network error, redirect to login\r\n                console.error('Auth verification failed', error);\r\n                router.push('/admin/login');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        checkAuth();\r\n    }, [pathname, router]);\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            await logoutAdmin();\r\n        } catch (error) {\r\n            console.error('Logout failed', error);\r\n        }\r\n        router.push('/admin/login');\r\n        router.refresh();\r\n    };\r\n\r\n    if (!mounted) return null;\r\n\r\n    // Loading Screen (prevents flash of content or redirect loop visuals)\r\n    if (loading && pathname !== '/admin/login') {\r\n        return (\r\n            <div className=\"min-h-screen bg-slate-900 flex items-center justify-center\">\r\n                <div className=\"animate-spin rounded-full border-4 border-slate-700 border-t-blue-500 h-12 w-12\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!mounted) return null;\r\n\r\n    // Don't show layout on login page\r\n    if (pathname === '/admin/login') {\r\n        return <>{children}</>;\r\n    }\r\n\r\n    // navItems removed as they are now in AdminDashboard\r\n\r\n    return (\r\n        <ToastProvider>\r\n            <div className=\"min-h-screen bg-slate-900\">\r\n                {children}\r\n            </div>\r\n        </ToastProvider>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\app\\admin\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[996,999],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[996,999],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { loginAdmin } from '@/lib/api';\r\nimport { Lock, AlertCircle } from 'lucide-react';\r\nimport { PasswordInput } from '@/components/ui/PasswordInput';\r\nimport { LoadingSpinner } from '@/components/ui/Loading';\r\n\r\nexport default function AdminLoginPage() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [rememberMe, setRememberMe] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const router = useRouter();\r\n\r\n    const handleLogin = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            await loginAdmin({ email, password, rememberMe });\r\n            // Token is set in HTTP-only cookie by backend\r\n            router.push('/admin/dashboard');\r\n        } catch (err: any) {\r\n            // Show specific error for debugging if available, else generic\r\n            const msg = err.response?.data?.message || err.message || 'Login failed. Please check server connection.';\r\n            setError(msg);\r\n            console.error('Login failed details:', err);\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setEmail(e.target.value);\r\n        if (error) setError('');\r\n    };\r\n\r\n    const handlePasswordChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setPassword(e.target.value);\r\n        if (error) setError('');\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-slate-900 px-4\">\r\n            <div className=\"max-w-md w-full bg-slate-800 p-8 rounded-2xl shadow-2xl border border-slate-700\">\r\n                <div className=\"flex justify-center mb-8\">\r\n                    <div className=\"p-3 bg-blue-600/20 rounded-full ring-4 ring-blue-600/10\">\r\n                        <Lock className=\"w-8 h-8 text-blue-500\" />\r\n                    </div>\r\n                </div>\r\n\r\n                <h2 className=\"text-2xl font-bold text-center text-white mb-2\">Welcome Back</h2>\r\n                <p className=\"text-slate-400 text-center mb-8 text-sm\">Enter your credentials to access the admin panel</p>\r\n\r\n                <form onSubmit={handleLogin} className=\"space-y-6\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-slate-400 mb-2\">Email Address</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={handleEmailChange}\r\n                            className=\"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50\"\r\n                            placeholder=\"admin@verilnk.com\"\r\n                            required\r\n                            disabled={isLoading}\r\n                        />\r\n                    </div>\r\n\r\n                    <PasswordInput\r\n                        label=\"Password\"\r\n                        value={password}\r\n                        onChange={handlePasswordChange}\r\n                        placeholder=\"ÔÇóÔÇóÔÇóÔÇóÔÇóÔÇóÔÇóÔÇó\"\r\n                        required\r\n                        disabled={isLoading}\r\n                    />\r\n\r\n                    {error && (\r\n                        <div className=\"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-lg text-sm flex items-center gap-2 animate-in slide-in-from-top-2 fade-in\">\r\n                            <AlertCircle className=\"w-4 h-4 flex-shrink-0\" />\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center\">\r\n                            <input\r\n                                id=\"remember-me\"\r\n                                type=\"checkbox\"\r\n                                checked={rememberMe}\r\n                                onChange={(e) => setRememberMe(e.target.checked)}\r\n                                className=\"h-4 w-4 rounded border-slate-700 bg-slate-900 text-blue-600 focus:ring-blue-500 focus:ring-offset-slate-900 cursor-pointer disabled:opacity-50\"\r\n                                disabled={isLoading}\r\n                            />\r\n                            <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-slate-400 cursor-pointer\">\r\n                                Keep me logged in\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2\"\r\n                    >\r\n                        {isLoading ? (\r\n                            <>\r\n                                <LoadingSpinner className=\"border-white border-t-transparent\" />\r\n                                <span>Authenticating...</span>\r\n                            </>\r\n                        ) : (\r\n                            'Sign In'\r\n                        )}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\app\\admin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\app\\country\\[iso]\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":106,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":106,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5166,5169],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5166,5169],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\app\\search\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":5,"column":44,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":45},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Building' is defined but never used.","line":5,"column":47,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":55},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1240,1243],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1240,1243],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":97,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":97,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3765,3768],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3765,3768],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Suspense } from 'react';\r\nimport { fetchSites, fetchCategories, searchSites } from '@/lib/api';\r\nimport Link from 'next/link';\r\nimport CategoryGrid from '@/components/home/CategoryGrid';\r\nimport { ExternalLink, ShieldCheck, Clock, X, Building, ArrowLeft } from 'lucide-react';\r\n\r\nexport default function SearchPage({\r\n    searchParams,\r\n}: {\r\n    searchParams: { q?: string; country?: string; category?: string };\r\n}) {\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-900 text-white p-4 md:p-8\">\r\n            <div className=\"max-w-7xl mx-auto\">\r\n                <Link href=\"/\" className=\"inline-flex items-center text-slate-400 hover:text-white mb-8 transition-colors\">\r\n                    <ArrowLeft className=\"w-4 h-4 mr-2\" /> Back to Home\r\n                </Link>\r\n                <Suspense fallback={<div className=\"text-center p-12\">Loading results...</div>}>\r\n                    <SearchResults searchParams={searchParams} />\r\n                </Suspense>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nasync function SearchResults({\r\n    searchParams,\r\n}: {\r\n    searchParams: { q?: string; country?: string; category?: string };\r\n}) {\r\n    const { q, country, category } = searchParams;\r\n\r\n    let sites: any[] = [];\r\n\r\n    if (q) {\r\n        // Use MeiliSearch via searchSites if query is present\r\n        try {\r\n            const results = await searchSites({\r\n                q,\r\n                country,\r\n                category\r\n            });\r\n            sites = results.hits || [];\r\n        } catch (error) {\r\n            console.error('Search failed:', error);\r\n            sites = [];\r\n        }\r\n    } else {\r\n        // Use Database via fetchSites for strict browsing\r\n        try {\r\n            const dbSites = await fetchSites({\r\n                countryId: country,\r\n                categoryId: category,\r\n            });\r\n            sites = dbSites || [];\r\n        } catch (error) {\r\n            console.error('Fetch sites failed:', error);\r\n            sites = [];\r\n        }\r\n    }\r\n\r\n    // Fetch categories if we are in a country view (to show grid)\r\n    let categories = [];\r\n    if (country && !category && !q) {\r\n        categories = await fetchCategories().catch(() => []);\r\n    }\r\n\r\n    // Retrieve names for header\r\n    let headerTitle = 'All Sites';\r\n    if (q) headerTitle = `Search Results for \"${q}\"`;\r\n    else if (country && category) headerTitle = 'Sites in Category';\r\n    else if (country) headerTitle = 'Sites in Country';\r\n    else if (category) headerTitle = 'Sites in Category';\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <h1 className=\"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-blue-200 capitalize\">\r\n                {headerTitle}\r\n            </h1>\r\n\r\n            {/* Show Category Grid if only country is selected */}\r\n            {categories.length > 0 && (\r\n                <div className=\"mb-10\">\r\n                    <CategoryGrid categories={categories} currentCountryId={country} />\r\n                    <div className=\"border-t border-slate-700 my-8\"></div>\r\n                    <h2 className=\"text-2xl font-bold text-white mb-6\">All Verified Sites</h2>\r\n                </div>\r\n            )}\r\n\r\n            {sites.length === 0 ? (\r\n                <div className=\"text-center py-20 bg-slate-800/50 rounded-2xl border border-slate-700\">\r\n                    <h3 className=\"text-xl font-medium text-slate-300 mb-2\">No verification records found</h3>\r\n                    <p className=\"text-slate-400\">Try adjusting your filters or search terms.</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                    {sites.map((site: any) => {\r\n                        // Normalize data shapes (MeiliSearch vs Prisma)\r\n                        const countryName = site.country_name || site.country?.name;\r\n                        const categoryName = site.category_name || site.category?.name;\r\n                        const hostname = (() => { try { return new URL(site.url).hostname } catch { return site.url } })();\r\n\r\n                        return (\r\n                            <div key={site.id} className=\"group bg-slate-800 rounded-xl border border-slate-700 hover:border-blue-500/50 transition-all duration-300 overflow-hidden hover:shadow-2xl hover:shadow-blue-500/10\">\r\n                                <div className=\"p-6\">\r\n                                    <div className=\"flex items-start justify-between mb-4\">\r\n                                        <div className={`p-2 rounded-lg ${site.status === 'SUCCESS' ? 'bg-green-500/10' : 'bg-slate-700'}`}>\r\n                                            {site.status === 'SUCCESS' ? <ShieldCheck className=\"w-5 h-5 text-green-500\" /> : <Clock className=\"w-5 h-5 text-yellow-500\" />}\r\n                                        </div>\r\n                                        {site.status === 'SUCCESS' && (\r\n                                            <span className=\"px-2 py-1 rounded text-[10px] font-bold bg-green-500/10 text-green-400 border border-green-500/20 uppercase tracking-wide\">\r\n                                                Official Verified\r\n                                            </span>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    <h3 className=\"text-lg font-bold text-white mb-2 group-hover:text-blue-400 transition-colors\">\r\n                                        {site.name}\r\n                                    </h3>\r\n\r\n                                    <a\r\n                                        href={site.url}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                        className=\"inline-flex items-center text-sm text-slate-400 hover:text-blue-400 transition-colors gap-1 mb-4\"\r\n                                    >\r\n                                        {hostname}\r\n                                        <ExternalLink className=\"w-3 h-3\" />\r\n                                    </a>\r\n\r\n                                    <div className=\"flex items-center gap-2 text-xs text-slate-500 pt-4 border-t border-slate-700/50\">\r\n                                        {countryName && <span>{countryName}</span>}\r\n                                        {countryName && categoryName && <span>ÔÇó</span>}\r\n                                        {categoryName && <span className=\"capitalize\">{categoryName}</span>}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\app\\site\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\admin\\CategoryForm.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\admin\\CategoryForm.tsx:20:13\n  18 |     useEffect(() => {\n  19 |         if (initialData) {\n> 20 |             setName(initialData.name);\n     |             ^^^^^^^ Avoid calling setState() directly within an effect\n  21 |             setPriority(initialData.priority);\n  22 |         } else {\n  23 |             setName('');","line":20,"column":13,"nodeType":null,"endLine":20,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1050,1053],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1050,1053],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { X } from 'lucide-react';\r\n\r\ninterface CategoryFormProps {\r\n    initialData?: { id: string; name: string; priority: number } | null;\r\n    onSubmit: (data: { name: string; priority: number }) => Promise<void>;\r\n    onCancel: () => void;\r\n    isLoading: boolean;\r\n}\r\n\r\nexport default function CategoryForm({ initialData, onSubmit, onCancel, isLoading }: CategoryFormProps) {\r\n    const [name, setName] = useState('');\r\n    const [priority, setPriority] = useState(0);\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (initialData) {\r\n            setName(initialData.name);\r\n            setPriority(initialData.priority);\r\n        } else {\r\n            setName('');\r\n            setPriority(0);\r\n        }\r\n    }, [initialData]);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        try {\r\n            await onSubmit({ name, priority: Number(priority) });\r\n        } catch (err: any) {\r\n            setError(err.response?.data?.message || 'Something went wrong');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700\">\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                    <h3 className=\"text-xl font-bold text-white\">\r\n                        {initialData ? 'Edit Category' : 'Add Category'}\r\n                    </h3>\r\n                    <button onClick={onCancel} className=\"text-slate-400 hover:text-white\">\r\n                        <X className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"bg-red-500/10 text-red-400 p-3 rounded-lg mb-4 text-sm\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-slate-400 mb-1\">Name</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            className=\"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-slate-400 mb-1\">Priority (Higher = First)</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={priority}\r\n                            onChange={(e) => setPriority(Number(e.target.value))}\r\n                            className=\"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-end gap-3 mt-6\">\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={onCancel}\r\n                            className=\"px-4 py-2 text-slate-300 hover:text-white\"\r\n                            disabled={isLoading}\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={isLoading}\r\n                            className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50\"\r\n                        >\r\n                            {isLoading ? 'Saving...' : 'Save'}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\admin\\CountryForm.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\admin\\CountryForm.tsx:21:13\n  19 |     useEffect(() => {\n  20 |         if (initialData) {\n> 21 |             setName(initialData.name);\n     |             ^^^^^^^ Avoid calling setState() directly within an effect\n  22 |             setCode(initialData.code);\n  23 |             setFlagImage(initialData.flagImage || '');\n  24 |         } else {","line":21,"column":13,"nodeType":null,"endLine":21,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":42,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1356,1359],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1356,1359],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { X } from 'lucide-react';\r\n\r\ninterface CountryFormProps {\r\n    initialData?: { id: string; name: string; code: string; flagImage?: string } | null;\r\n    onSubmit: (data: { name: string; code: string; flagImage?: string }) => Promise<void>;\r\n    onCancel: () => void;\r\n    isLoading: boolean;\r\n}\r\n\r\nexport default function CountryForm({ initialData, onSubmit, onCancel, isLoading }: CountryFormProps) {\r\n    const [name, setName] = useState('');\r\n    const [code, setCode] = useState('');\r\n    const [flagImage, setFlagImage] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (initialData) {\r\n            setName(initialData.name);\r\n            setCode(initialData.code);\r\n            setFlagImage(initialData.flagImage || '');\r\n        } else {\r\n            setName('');\r\n            setCode('');\r\n            setFlagImage('');\r\n        }\r\n    }, [initialData]);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        if (code.length < 2 || code.length > 3) {\r\n            setError('Code must be 2 or 3 characters');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await onSubmit({ name, code, flagImage: flagImage || undefined });\r\n        } catch (err: any) {\r\n            setError(err.response?.data?.message || 'Something went wrong');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700\">\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                    <h3 className=\"text-xl font-bold text-white\">\r\n                        {initialData ? 'Edit Country' : 'Add Country'}\r\n                    </h3>\r\n                    <button onClick={onCancel} className=\"text-slate-400 hover:text-white\">\r\n                        <X className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"bg-red-500/10 text-red-400 p-3 rounded-lg mb-4 text-sm\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-slate-400 mb-1\">Name</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            className=\"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-slate-400 mb-1\">ISO Code</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={code}\r\n                            onChange={(e) => setCode(e.target.value.toUpperCase())}\r\n                            className=\"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500\"\r\n                            required\r\n                            maxLength={3}\r\n                            placeholder=\"e.g. US\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-slate-400 mb-1\">Flag Image URL (Optional)</label>\r\n                        <input\r\n                            type=\"url\"\r\n                            value={flagImage}\r\n                            onChange={(e) => setFlagImage(e.target.value)}\r\n                            className=\"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500\"\r\n                            placeholder=\"https://example.com/flag.png\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-end gap-3 mt-6\">\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={onCancel}\r\n                            className=\"px-4 py-2 text-slate-300 hover:text-white\"\r\n                            disabled={isLoading}\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={isLoading}\r\n                            className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50\"\r\n                        >\r\n                            {isLoading ? 'Saving...' : 'Save'}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\admin\\SiteForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[404,407],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[404,407],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\admin\\SiteForm.tsx:30:13\n  28 |     useEffect(() => {\n  29 |         if (initialData) {\n> 30 |             setName(initialData.name);\n     |             ^^^^^^^ Avoid calling setState() directly within an effect\n  31 |             setUrl(initialData.url);\n  32 |             setCountryId(initialData.countryId);\n  33 |             setCategoryId(initialData.categoryId);","line":30,"column":13,"nodeType":null,"endLine":30,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1651,1654],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1651,1654],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { X } from 'lucide-react';\r\n\r\ninterface SiteFormProps {\r\n    initialData?: {\r\n        id: string;\r\n        name: string;\r\n        url: string;\r\n        countryId: string;\r\n        categoryId: string;\r\n    } | null;\r\n    countries: { id: string; name: string }[];\r\n    categories: { id: string; name: string }[];\r\n    onSubmit: (data: any) => Promise<void>; // Using any for simplicity in rapid dev, ideally typed\r\n    onCancel: () => void;\r\n    isLoading: boolean;\r\n}\r\n\r\nexport default function SiteForm({ initialData, countries, categories, onSubmit, onCancel, isLoading }: SiteFormProps) {\r\n    const [name, setName] = useState('');\r\n    const [url, setUrl] = useState('');\r\n    const [countryId, setCountryId] = useState('');\r\n    const [categoryId, setCategoryId] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (initialData) {\r\n            setName(initialData.name);\r\n            setUrl(initialData.url);\r\n            setCountryId(initialData.countryId);\r\n            setCategoryId(initialData.categoryId);\r\n        } else {\r\n            setName('');\r\n            setUrl('');\r\n            setCountryId('');\r\n            setCategoryId('');\r\n        }\r\n    }, [initialData]);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        if (!url.startsWith('https://')) {\r\n            setError('URL must start with https://');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await onSubmit({ name, url, countryId, categoryId });\r\n        } catch (err: any) {\r\n            setError(err.response?.data?.message || 'Something went wrong');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700 max-h-[90vh] overflow-y-auto\">\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                    <h3 className=\"text-xl font-bold text-white\">\r\n                        {initialData ? 'Edit Site' : 'Add New Site'}\r\n                    </h3>\r\n                    <button onClick={onCancel} className=\"text-slate-400 hover:text-white\">\r\n                        <X className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"bg-red-500/10 text-red-400 p-3 rounded-lg mb-4 text-sm\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-slate-400 mb-1\">Site Name</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            className=\"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-slate-400 mb-1\">URL (https://)</label>\r\n                        <input\r\n                            type=\"url\"\r\n                            value={url}\r\n                            onChange={(e) => setUrl(e.target.value)}\r\n                            className=\"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500\"\r\n                            required\r\n                            placeholder=\"https://example.com\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-slate-400 mb-1\">Country</label>\r\n                        <select\r\n                            value={countryId}\r\n                            onChange={(e) => setCountryId(e.target.value)}\r\n                            className=\"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500\"\r\n                            required\r\n                        >\r\n                            <option value=\"\">Select Country</option>\r\n                            {countries.map(c => (\r\n                                <option key={c.id} value={c.id}>{c.name}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-slate-400 mb-1\">Category</label>\r\n                        <select\r\n                            value={categoryId}\r\n                            onChange={(e) => setCategoryId(e.target.value)}\r\n                            className=\"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500\"\r\n                            required\r\n                        >\r\n                            <option value=\"\">Select Category</option>\r\n                            {categories.map(c => (\r\n                                <option key={c.id} value={c.id}>{c.name}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-end gap-3 mt-6\">\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={onCancel}\r\n                            className=\"px-4 py-2 text-slate-300 hover:text-white\"\r\n                            disabled={isLoading}\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={isLoading}\r\n                            className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50\"\r\n                        >\r\n                            {isLoading ? 'Saving...' : 'Save'}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\admin\\sections\\CategoriesSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":64,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":64,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":81,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2847,2850],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2847,2850],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadCategories'. Either include it or remove the dependency array.","line":45,"column":8,"nodeType":"ArrayExpression","endLine":45,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [loadCategories]","fix":{"range":[1637,1639],"text":"[loadCategories]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Plus, Edit, Trash2, Tag, Search } from 'lucide-react';\r\nimport { fetchCategories, createCategory, updateCategory, deleteCategory } from '@/lib/api';\r\nimport CategoryForm from '@/components/admin/CategoryForm';\r\nimport { useDebounce } from '@/hooks/useDebounce';\r\nimport { useToast } from '@/components/ui/Toast';\r\nimport { TableSkeleton } from '@/components/ui/Loading';\r\n\r\ninterface Category {\r\n    id: string;\r\n    name: string;\r\n    slug: string;\r\n    priority: number;\r\n}\r\n\r\nexport default function CategoriesSection() {\r\n    const [categories, setCategories] = useState<Category[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const debouncedSearch = useDebounce(searchQuery, 300);\r\n\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [editingCategory, setEditingCategory] = useState<Category | null>(null);\r\n    const [actionLoading, setActionLoading] = useState(false);\r\n\r\n    const { showToast } = useToast();\r\n\r\n    const loadCategories = async () => {\r\n        try {\r\n            const data = await fetchCategories();\r\n            setCategories(data.sort((a: Category, b: Category) => b.priority - a.priority));\r\n        } catch (error) {\r\n            console.error('Failed to load categories', error);\r\n            showToast('Failed to load categories', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadCategories();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const handleCreate = () => {\r\n        setEditingCategory(null);\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleEdit = (category: Category) => {\r\n        setEditingCategory(category);\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleDelete = async (id: string, name: string) => {\r\n        if (!confirm(`Are you sure you want to delete ${name}?`)) return;\r\n\r\n        try {\r\n            await deleteCategory(id);\r\n            showToast('Category deleted successfully', 'success');\r\n            await loadCategories();\r\n        } catch (error) {\r\n            showToast('Failed to delete category', 'error');\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (data: { name: string; priority: number }) => {\r\n        setActionLoading(true);\r\n        try {\r\n            if (editingCategory) {\r\n                await updateCategory(editingCategory.id, data);\r\n                showToast('Category updated successfully', 'success');\r\n            } else {\r\n                await createCategory(data);\r\n                showToast('Category created successfully', 'success');\r\n            }\r\n            await loadCategories();\r\n            setIsModalOpen(false);\r\n        } catch (error: any) {\r\n            showToast(error.response?.data?.message || 'Operation failed', 'error');\r\n        } finally {\r\n            setActionLoading(false);\r\n        }\r\n    };\r\n\r\n    const filteredCategories = categories.filter(c =>\r\n        c.name.toLowerCase().includes(debouncedSearch.toLowerCase()) ||\r\n        c.slug.toLowerCase().includes(debouncedSearch.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center sm:flex-row flex-col gap-4\">\r\n                <h1 className=\"text-2xl font-bold text-white flex items-center gap-2\">\r\n                    <Tag className=\"w-8 h-8 text-blue-500\" />\r\n                    Categories\r\n                </h1>\r\n                <button\r\n                    onClick={handleCreate}\r\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors w-full sm:w-auto justify-center\"\r\n                >\r\n                    <Plus className=\"w-5 h-5\" />\r\n                    Add Category\r\n                </button>\r\n            </div>\r\n\r\n            {/* Search Bar */}\r\n            <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5\" />\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search categories...\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                    className=\"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors\"\r\n                />\r\n            </div>\r\n\r\n            {loading ? (\r\n                <TableSkeleton cols={4} rows={5} />\r\n            ) : (\r\n                <div className=\"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden shadow-lg\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead className=\"bg-slate-900/50 text-slate-400 text-sm uppercase\">\r\n                            <tr>\r\n                                <th className=\"px-6 py-4 font-medium\">Name</th>\r\n                                <th className=\"px-6 py-4 font-medium\">Slug</th>\r\n                                <th className=\"px-6 py-4 font-medium\">Priority</th>\r\n                                <th className=\"px-6 py-4 font-medium text-right\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-slate-700\">\r\n                            {filteredCategories.map((category) => (\r\n                                <tr key={category.id} className=\"hover:bg-slate-700/30 transition-colors\">\r\n                                    <td className=\"px-6 py-4 text-white font-medium\">{category.name}</td>\r\n                                    <td className=\"px-6 py-4 text-slate-400 font-mono text-sm\">{category.slug}</td>\r\n                                    <td className=\"px-6 py-4 text-slate-300\">\r\n                                        <span className=\"px-2 py-1 bg-slate-700 rounded text-xs font-medium border border-slate-600\">\r\n                                            {category.priority}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 text-right flex justify-end gap-3\">\r\n                                        <button\r\n                                            onClick={() => handleEdit(category)}\r\n                                            className=\"text-blue-400 hover:text-blue-300 p-2 hover:bg-blue-400/10 rounded-lg transition-colors\"\r\n                                            title=\"Edit\"\r\n                                        >\r\n                                            <Edit className=\"w-4 h-4\" />\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handleDelete(category.id, category.name)}\r\n                                            className=\"text-red-400 hover:text-red-300 p-2 hover:bg-red-400/10 rounded-lg transition-colors\"\r\n                                            title=\"Delete\"\r\n                                        >\r\n                                            <Trash2 className=\"w-4 h-4\" />\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                            {filteredCategories.length === 0 && (\r\n                                <tr>\r\n                                    <td colSpan={4} className=\"px-6 py-12 text-center text-slate-500\">\r\n                                        No categories found\r\n                                    </td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            )}\r\n\r\n            {isModalOpen && (\r\n                <CategoryForm\r\n                    initialData={editingCategory}\r\n                    onSubmit={handleSubmit}\r\n                    onCancel={() => setIsModalOpen(false)}\r\n                    isLoading={actionLoading}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\admin\\sections\\CountriesSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":64,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":64,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":81,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2771,2774],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2771,2774],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadCountries'. Either include it or remove the dependency array.","line":45,"column":8,"nodeType":"ArrayExpression","endLine":45,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [loadCountries]","fix":{"range":[1561,1563],"text":"[loadCountries]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Plus, Edit, Trash2, Globe, Search } from 'lucide-react';\r\nimport { fetchCountries, createCountry, updateCountry, deleteCountry } from '@/lib/api';\r\nimport CountryForm from '@/components/admin/CountryForm';\r\nimport { useDebounce } from '@/hooks/useDebounce';\r\nimport { useToast } from '@/components/ui/Toast';\r\nimport { TableSkeleton } from '@/components/ui/Loading';\r\n\r\ninterface Country {\r\n    id: string;\r\n    name: string;\r\n    code: string;\r\n    flagImage?: string;\r\n}\r\n\r\nexport default function CountriesSection() {\r\n    const [countries, setCountries] = useState<Country[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const debouncedSearch = useDebounce(searchQuery, 300);\r\n\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [editingCountry, setEditingCountry] = useState<Country | null>(null);\r\n    const [actionLoading, setActionLoading] = useState(false);\r\n\r\n    const { showToast } = useToast();\r\n\r\n    const loadCountries = async () => {\r\n        try {\r\n            const data = await fetchCountries();\r\n            setCountries(data);\r\n        } catch (error) {\r\n            console.error('Failed to load countries', error);\r\n            showToast('Failed to load countries', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadCountries();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const handleCreate = () => {\r\n        setEditingCountry(null);\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleEdit = (country: Country) => {\r\n        setEditingCountry(country);\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleDelete = async (id: string, name: string) => {\r\n        if (!confirm(`Are you sure you want to delete ${name}?`)) return;\r\n\r\n        try {\r\n            await deleteCountry(id);\r\n            showToast('Country deleted successfully', 'success');\r\n            await loadCountries();\r\n        } catch (error) {\r\n            showToast('Failed to delete country', 'error');\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (data: { name: string; code: string; flagImage?: string }) => {\r\n        setActionLoading(true);\r\n        try {\r\n            if (editingCountry) {\r\n                await updateCountry(editingCountry.id, data);\r\n                showToast('Country updated successfully', 'success');\r\n            } else {\r\n                await createCountry(data);\r\n                showToast('Country created successfully', 'success');\r\n            }\r\n            await loadCountries();\r\n            setIsModalOpen(false);\r\n        } catch (error: any) {\r\n            showToast(error.response?.data?.message || 'Operation failed', 'error');\r\n        } finally {\r\n            setActionLoading(false);\r\n        }\r\n    };\r\n\r\n    const filteredCountries = countries.filter(c =>\r\n        c.name.toLowerCase().includes(debouncedSearch.toLowerCase()) ||\r\n        c.code.toLowerCase().includes(debouncedSearch.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center sm:flex-row flex-col gap-4\">\r\n                <h1 className=\"text-2xl font-bold text-white flex items-center gap-2\">\r\n                    <Globe className=\"w-8 h-8 text-blue-500\" />\r\n                    Countries\r\n                </h1>\r\n                <button\r\n                    onClick={handleCreate}\r\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors w-full sm:w-auto justify-center\"\r\n                >\r\n                    <Plus className=\"w-5 h-5\" />\r\n                    Add Country\r\n                </button>\r\n            </div>\r\n\r\n            {/* Search Bar */}\r\n            <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5\" />\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search countries...\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                    className=\"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors\"\r\n                />\r\n            </div>\r\n\r\n            {loading ? (\r\n                <TableSkeleton cols={3} rows={5} />\r\n            ) : (\r\n                <div className=\"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden shadow-lg\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead className=\"bg-slate-900/50 text-slate-400 text-sm uppercase\">\r\n                            <tr>\r\n                                <th className=\"px-6 py-4 font-medium\">Name</th>\r\n                                <th className=\"px-6 py-4 font-medium\">Code</th>\r\n                                <th className=\"px-6 py-4 font-medium text-right\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-slate-700\">\r\n                            {filteredCountries.map((country) => (\r\n                                <tr key={country.id} className=\"hover:bg-slate-700/30 transition-colors\">\r\n                                    <td className=\"px-6 py-4 text-white font-medium\">{country.name}</td>\r\n                                    <td className=\"px-6 py-4 text-slate-400 font-mono\">\r\n                                        <span className=\"px-2 py-1 bg-slate-700/50 rounded border border-slate-600/50 text-xs\">\r\n                                            {country.code}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 text-right flex justify-end gap-3\">\r\n                                        <button\r\n                                            onClick={() => handleEdit(country)}\r\n                                            className=\"text-blue-400 hover:text-blue-300 p-2 hover:bg-blue-400/10 rounded-lg transition-colors\"\r\n                                            title=\"Edit\"\r\n                                        >\r\n                                            <Edit className=\"w-4 h-4\" />\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handleDelete(country.id, country.name)}\r\n                                            className=\"text-red-400 hover:text-red-300 p-2 hover:bg-red-400/10 rounded-lg transition-colors\"\r\n                                            title=\"Delete\"\r\n                                        >\r\n                                            <Trash2 className=\"w-4 h-4\" />\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                            {filteredCountries.length === 0 && (\r\n                                <tr>\r\n                                    <td colSpan={3} className=\"px-6 py-12 text-center text-slate-500\">\r\n                                        No countries found\r\n                                    </td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            )}\r\n\r\n            {isModalOpen && (\r\n                <CountryForm\r\n                    initialData={editingCountry}\r\n                    onSubmit={handleSubmit}\r\n                    onCancel={() => setIsModalOpen(false)}\r\n                    isLoading={actionLoading}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\admin\\sections\\ReportsSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":6,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onNavigate' is defined but never used.","line":32,"column":42,"nodeType":null,"messageId":"unusedVar","endLine":32,"endColumn":52}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { fetchReports } from '@/lib/api';\r\nimport { AlertCircle, Calendar } from 'lucide-react';\r\nimport Link from 'next/link';\r\n\r\ninterface Report {\r\n    id: string;\r\n    reason: string;\r\n    createdAt: string;\r\n    site: {\r\n        id: string;\r\n        name: string;\r\n        url: string;\r\n    };\r\n}\r\n\r\n// Helper interface for handling navigation props if we were not using Links,\r\n// but since the requirement is to use internal state, we should probably redirect 'Review Site' to the Sites tab\r\n// HOWEVER, the Sites tab mainly shows \"Pending\" sites. If a reported site is already active, it might not show up there.\r\n// For now, let's keep the Link behavior but maybe point to the Dashboard with a query param or similar if we wanted deep linking.\r\n// But wait, the requirement says \"Switching sections must NOT change the URL\".\r\n// So providing a link to `/admin/sites` will be broken as that route will be gone.\r\n// I should probably accept a prop to switch tabs, OR just remove the link if it's not crucial.\r\n// Or better, let's use a button that calls a function passed as prop to switch the active tab.\r\n\r\ninterface ReportsSectionProps {\r\n    onNavigate?: (section: string) => void;\r\n}\r\n\r\nexport default function ReportsSection({ onNavigate }: ReportsSectionProps) {\r\n    const [reports, setReports] = useState<Report[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const loadReports = async () => {\r\n            try {\r\n                const data = await fetchReports();\r\n                setReports(data);\r\n            } catch (error) {\r\n                console.error('Failed to fetch reports', error);\r\n            }\r\n            setLoading(false);\r\n        };\r\n        loadReports();\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n                <h1 className=\"text-2xl font-bold text-white\">User Reports</h1>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 gap-4\">\r\n                {reports.length === 0 && !loading ? (\r\n                    <div className=\"text-center py-12 text-slate-500 bg-slate-800 rounded-xl border border-slate-700\">\r\n                        No reports found.\r\n                    </div>\r\n                ) : (\r\n                    reports.map((report) => (\r\n                        <div key={report.id} className=\"bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-sm flex items-start gap-4\">\r\n                            <div className=\"p-3 bg-red-500/10 rounded-full flex-shrink-0\">\r\n                                <AlertCircle className=\"w-6 h-6 text-red-500\" />\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                                <div className=\"flex justify-between items-start mb-2\">\r\n                                    <h3 className=\"text-lg font-semibold text-white\">\r\n                                        Report for <span className=\"text-blue-400\">{report.site.name}</span>\r\n                                    </h3>\r\n                                    <span className=\"text-xs text-slate-500 flex items-center gap-1\">\r\n                                        <Calendar className=\"w-3 h-3\" />\r\n                                        {new Date(report.createdAt).toLocaleDateString()}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <p className=\"text-slate-300 bg-slate-900/50 p-3 rounded-lg border border-slate-700/50 mb-3 text-sm\">\r\n                                    {'\"'}{report.reason}{'\"'}\r\n                                </p>\r\n\r\n                                <div className=\"flex items-center gap-4 text-sm\">\r\n                                    <a href={report.site.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-slate-400 hover:text-white hover:underline truncate max-w-xs\">\r\n                                        {report.site.url}\r\n                                    </a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\admin\\sections\\SitesSection.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadSites'. Either include it or remove the dependency array.","line":40,"column":8,"nodeType":"ArrayExpression","endLine":40,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [loadSites]","fix":{"range":[1241,1243],"text":"[loadSites]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\admin\\sections\\UrlsSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[782,785],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[782,785],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[844,847],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[844,847],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1728,1731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1728,1731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1736,1739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1736,1739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":48,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":48,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":70,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":70,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":105,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":105,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":110,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3698,3701],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3698,3701],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":126,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4277,4280],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4277,4280],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'showToast'. Either include it or remove the dependency array.","line":57,"column":8,"nodeType":"ArrayExpression","endLine":57,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [showToast]","fix":{"range":[2123,2125],"text":"[showToast]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadSites'. Either include it or remove the dependency array.","line":83,"column":8,"nodeType":"ArrayExpression","endLine":83,"endColumn":43,"suggestions":[{"desc":"Update the dependencies array to be: [selectedCountry, selectedCategory, loadSites]","fix":{"range":[2876,2911],"text":"[selectedCountry, selectedCategory, loadSites]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":6,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Plus, Edit, Trash2, Link as LinkIcon, ExternalLink, Filter } from 'lucide-react';\r\nimport { fetchCountries, fetchCategories, fetchSites, createSite, updateSite, deleteSite } from '@/lib/api';\r\nimport SiteForm from '@/components/admin/SiteForm';\r\nimport { useToast } from '@/components/ui/Toast';\r\nimport { TableSkeleton } from '@/components/ui/Loading';\r\n\r\ninterface Site {\r\n    id: string;\r\n    name: string;\r\n    url: string;\r\n    countryId: string;\r\n    categoryId: string;\r\n    status: string;\r\n    country: { name: string };\r\n    category: { name: string };\r\n}\r\n\r\nexport default function UrlsSection() {\r\n    const [sites, setSites] = useState<Site[]>([]);\r\n    const [countries, setCountries] = useState<any[]>([]);\r\n    const [categories, setCategories] = useState<any[]>([]);\r\n\r\n    // Filters\r\n    const [selectedCountry, setSelectedCountry] = useState('');\r\n    const [selectedCategory, setSelectedCategory] = useState('');\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [isMetaLoading, setIsMetaLoading] = useState(true);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [editingSite, setEditingSite] = useState<Site | null>(null);\r\n    const [actionLoading, setActionLoading] = useState(false);\r\n\r\n    const { showToast } = useToast();\r\n\r\n    // Initial load for filters\r\n    useEffect(() => {\r\n        const loadMetaData = async () => {\r\n            try {\r\n                const [cData, catData] = await Promise.all([\r\n                    fetchCountries(),\r\n                    fetchCategories()\r\n                ]);\r\n                setCountries(cData);\r\n                setCategories(catData.sort((a: any, b: any) => b.priority - a.priority));\r\n            } catch (error) {\r\n                console.error('Failed to load metadata');\r\n                showToast('Failed to load filter options', 'error');\r\n            } finally {\r\n                setIsMetaLoading(false);\r\n            }\r\n        };\r\n        loadMetaData();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const loadSites = async () => {\r\n        if (!selectedCountry && !selectedCategory) return;\r\n\r\n        setLoading(true);\r\n\r\n        try {\r\n            const data = await fetchSites({\r\n                countryId: selectedCountry || undefined,\r\n                categoryId: selectedCategory || undefined\r\n            });\r\n            setSites(data);\r\n        } catch (error) {\r\n            console.error('Failed to load sites');\r\n            showToast('Failed to load sites', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (selectedCountry && selectedCategory) {\r\n            loadSites();\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [selectedCountry, selectedCategory]);\r\n\r\n    const handleCreate = () => {\r\n        setEditingSite(null);\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleEdit = (site: Site) => {\r\n        setEditingSite(site);\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleDelete = async (id: string, name: string) => {\r\n        if (!confirm(`Are you sure you want to delete ${name}?`)) return;\r\n\r\n        try {\r\n            await deleteSite(id);\r\n            showToast('Site deleted successfully', 'success');\r\n            // Refresh list if we have active filters\r\n            if (selectedCountry && selectedCategory) {\r\n                await loadSites();\r\n            }\r\n        } catch (error) {\r\n            showToast('Failed to delete site', 'error');\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (data: any) => {\r\n        // Cookies used automatically for auth\r\n\r\n        setActionLoading(true);\r\n        try {\r\n            if (editingSite) {\r\n                await updateSite(editingSite.id, data);\r\n                showToast('Site updated successfully', 'success');\r\n            } else {\r\n                await createSite(data);\r\n                showToast('Site created successfully', 'success');\r\n            }\r\n            if (selectedCountry && selectedCategory) {\r\n                await loadSites();\r\n            }\r\n            setIsModalOpen(false);\r\n        } catch (error: any) {\r\n            showToast(error.response?.data?.message || 'Operation failed', 'error');\r\n        } finally {\r\n            setActionLoading(false);\r\n        }\r\n    };\r\n\r\n    const getStatusColor = (status: string) => {\r\n        switch (status) {\r\n            case 'SUCCESS': return 'bg-green-500/10 text-green-400 border-green-500/20';\r\n            case 'FAILED': return 'bg-red-500/10 text-red-400 border-red-500/20';\r\n            case 'PENDING': return 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20';\r\n            default: return 'bg-slate-700 text-slate-400';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center sm:flex-row flex-col gap-4\">\r\n                <h1 className=\"text-2xl font-bold text-white flex items-center gap-2\">\r\n                    <LinkIcon className=\"w-8 h-8 text-blue-500\" />\r\n                    URL Manager\r\n                </h1>\r\n                <button\r\n                    onClick={handleCreate}\r\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors w-full sm:w-auto justify-center\"\r\n                >\r\n                    <Plus className=\"w-5 h-5\" />\r\n                    Add Site\r\n                </button>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <div className=\"bg-slate-800 p-4 rounded-xl border border-slate-700 flex flex-wrap gap-4 items-end shadow-lg\">\r\n                <div className=\"flex-1 min-w-[200px]\">\r\n                    <label className=\"block text-sm font-medium text-slate-400 mb-1\">Filter by Country</label>\r\n                    <select\r\n                        value={selectedCountry}\r\n                        onChange={(e) => setSelectedCountry(e.target.value)}\r\n                        className=\"w-full px-4 py-2.5 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50\"\r\n                        disabled={isMetaLoading}\r\n                    >\r\n                        <option value=\"\">Select Country</option>\r\n                        {countries.map(c => (\r\n                            <option key={c.id} value={c.id}>{c.name}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <div className=\"flex-1 min-w-[200px]\">\r\n                    <label className=\"block text-sm font-medium text-slate-400 mb-1\">Filter by Category</label>\r\n                    <select\r\n                        value={selectedCategory}\r\n                        onChange={(e) => setSelectedCategory(e.target.value)}\r\n                        className=\"w-full px-4 py-2.5 bg-slate-900 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500 transition-colors disabled:opacity-50\"\r\n                        disabled={isMetaLoading}\r\n                    >\r\n                        <option value=\"\">Select Category</option>\r\n                        {categories.map(c => (\r\n                            <option key={c.id} value={c.id}>{c.name}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <div className=\"pb-1\">\r\n                    <button\r\n                        onClick={() => loadSites()}\r\n                        disabled={!selectedCountry && !selectedCategory}\r\n                        className=\"p-2.5 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors disabled:opacity-50\"\r\n                        title=\"Refresh\"\r\n                    >\r\n                        <Filter className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {loading ? (\r\n                <TableSkeleton cols={4} rows={5} />\r\n            ) : sites.length > 0 ? (\r\n                <div className=\"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden shadow-lg\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead className=\"bg-slate-900/50 text-slate-400 text-sm uppercase\">\r\n                            <tr>\r\n                                <th className=\"px-6 py-4 font-medium\">Name</th>\r\n                                <th className=\"px-6 py-4 font-medium\">URL</th>\r\n                                <th className=\"px-6 py-4 font-medium\">Status</th>\r\n                                <th className=\"px-6 py-4 font-medium text-right\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-slate-700\">\r\n                            {sites.map((site) => (\r\n                                <tr key={site.id} className=\"hover:bg-slate-700/30 transition-colors\">\r\n                                    <td className=\"px-6 py-4 text-white font-medium\">{site.name}</td>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <a\r\n                                            href={site.url}\r\n                                            target=\"_blank\"\r\n                                            rel=\"noopener noreferrer\"\r\n                                            className=\"text-blue-400 hover:text-blue-300 flex items-center gap-1 hover:underline text-sm\"\r\n                                        >\r\n                                            {site.url.replace('https://', '')} <ExternalLink className=\"w-3 h-3\" />\r\n                                        </a>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <span className={`px-2.5 py-1 rounded-full text-xs font-medium border ${getStatusColor(site.status)}`}>\r\n                                            {site.status}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 text-right flex justify-end gap-3\">\r\n                                        <button\r\n                                            onClick={() => handleEdit(site)}\r\n                                            className=\"text-blue-400 hover:text-blue-300 p-2 hover:bg-blue-400/10 rounded-lg transition-colors\"\r\n                                            title=\"Edit\"\r\n                                        >\r\n                                            <Edit className=\"w-4 h-4\" />\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handleDelete(site.id, site.name)}\r\n                                            className=\"text-red-400 hover:text-red-300 p-2 hover:bg-red-400/10 rounded-lg transition-colors\"\r\n                                            title=\"Delete\"\r\n                                        >\r\n                                            <Trash2 className=\"w-4 h-4\" />\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            ) : (\r\n                <div className=\"text-center text-slate-500 py-12 border-2 border-dashed border-slate-800 rounded-xl bg-slate-900/50\">\r\n                    {selectedCountry && selectedCategory ? 'No sites found for this selection.' : 'Select a Country and Category to view sites.'}\r\n                </div>\r\n            )}\r\n\r\n            {isModalOpen && (\r\n                <SiteForm\r\n                    initialData={editingSite}\r\n                    countries={countries}\r\n                    categories={categories}\r\n                    onSubmit={handleSubmit}\r\n                    onCancel={() => setIsModalOpen(false)}\r\n                    isLoading={actionLoading}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\common\\Pagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\common\\SearchComponent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\country\\SiteCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\home\\CategoryGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\home\\CountrySelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\home\\SearchBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\layout\\Navbar.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":36,"column":29,"nodeType":"JSXOpeningElement","endLine":36,"endColumn":116}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { ShieldCheck, Globe } from 'lucide-react';\r\nimport { useCountry } from '@/context/CountryContext';\r\n\r\nexport default function Navbar() {\r\n    const pathname = usePathname();\r\n    const { countryName, countryCode, flagImage } = useCountry();\r\n\r\n    // Hide Navbar on admin pages\r\n    if (pathname?.startsWith('/admin')) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <nav className=\"fixed top-0 left-0 right-0 z-50 bg-slate-900/80 backdrop-blur-md border-b border-slate-700\">\r\n            <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\r\n                {/* Logo */}\r\n                <Link href=\"/\" className=\"flex items-center gap-2 group\">\r\n                    <div className=\"p-2 bg-blue-600 rounded-lg group-hover:bg-blue-500 transition-colors\">\r\n                        <ShieldCheck className=\"w-6 h-6 text-white\" />\r\n                    </div>\r\n                    <span className=\"text-xl font-bold text-white tracking-tight\">\r\n                        Veri<span className=\"text-blue-400\">Lnk</span>\r\n                    </span>\r\n                </Link>\r\n\r\n                {/* Right Side: Country & Auth */}\r\n                <div className=\"flex items-center gap-6\">\r\n                    {/* Country Display */}\r\n                    {/* Country Display */}\r\n                    <div className=\"flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-800 border border-slate-700 text-slate-300 text-sm\">\r\n                        {flagImage ? (\r\n                            <img src={flagImage} alt={countryName} className=\"w-5 h-5 rounded-full object-cover\" />\r\n                        ) : countryCode === 'Global' ? (\r\n                            <Globe className=\"w-4 h-4 text-blue-400\" />\r\n                        ) : (\r\n                            <span className=\"text-lg leading-none\">\r\n                                {getFlagEmoji(countryCode)}\r\n                            </span>\r\n                        )}\r\n                        <span className=\"font-medium\">{countryName}</span>\r\n                    </div>\r\n\r\n                    {/* Admin Link */}\r\n                    <Link\r\n                        href=\"/admin/login\"\r\n                        className=\"text-sm font-medium text-slate-400 hover:text-white transition-colors\"\r\n                    >\r\n                        Admin\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\n// Helper to convert ISO code to flag emoji\r\nfunction getFlagEmoji(countryCode: string) {\r\n    if (!countryCode || countryCode === 'Global') return '­ƒîÉ';\r\n    const codePoints = countryCode\r\n        .toUpperCase()\r\n        .split('')\r\n        .map(char => 127397 + char.charCodeAt(0));\r\n    return String.fromCodePoint(...codePoints);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\ui\\Loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\ui\\ModernDropdown.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":62,"column":33,"nodeType":"JSXOpeningElement","endLine":62,"endColumn":120},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":90,"column":45,"nodeType":"JSXOpeningElement","endLine":94,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { ChevronDown, Check } from 'lucide-react';\r\n\r\ninterface Option {\r\n    id: string;\r\n    label: string;\r\n    value: string;\r\n    image?: string; // For flags\r\n}\r\n\r\ninterface ModernDropdownProps {\r\n    options: Option[];\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    placeholder?: string;\r\n    className?: string;\r\n    label?: string;\r\n}\r\n\r\nexport default function ModernDropdown({\r\n    options,\r\n    value,\r\n    onChange,\r\n    placeholder = 'Select an option',\r\n    className = '',\r\n    label\r\n}: ModernDropdownProps) {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const dropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n    const selectedOption = options.find(opt => opt.value === value);\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const handleSelect = (option: Option) => {\r\n        onChange(option.value);\r\n        setIsOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div className={`relative ${className}`} ref={dropdownRef}>\r\n            {label && <label className=\"block text-sm font-medium text-slate-400 mb-1\">{label}</label>}\r\n            <button\r\n                type=\"button\"\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className=\"w-full flex items-center justify-between bg-slate-800 border border-slate-700 hover:border-slate-600 rounded-xl px-4 py-3 text-white transition-all focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n            >\r\n                <div className=\"flex items-center gap-3 truncate\">\r\n                    {selectedOption ? (\r\n                        <>\r\n                            {selectedOption.image && (\r\n                                <img src={selectedOption.image} alt=\"\" className=\"w-5 h-5 rounded-full object-cover\" />\r\n                            )}\r\n                            <span className=\"truncate\">{selectedOption.label}</span>\r\n                        </>\r\n                    ) : (\r\n                        <span className=\"text-slate-400\">{placeholder}</span>\r\n                    )}\r\n                </div>\r\n                <ChevronDown className={`w-4 h-4 text-slate-400 transition-transform ${isOpen ? 'rotate-180' : ''}`} />\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <div className=\"absolute z-50 w-full mt-2 bg-slate-800 border border-slate-700 rounded-xl shadow-xl max-h-60 overflow-y-auto animate-in fade-in slide-in-from-top-2\">\r\n                    <div className=\"p-1\">\r\n                        {options.length === 0 ? (\r\n                            <div className=\"px-4 py-3 text-sm text-slate-500 text-center\">No options available</div>\r\n                        ) : (\r\n                            options.map((option) => (\r\n                                <button\r\n                                    key={option.id}\r\n                                    onClick={() => handleSelect(option)}\r\n                                    className={`w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-sm transition-colors ${option.value === value\r\n                                            ? 'bg-blue-600 text-white'\r\n                                            : 'text-slate-200 hover:bg-slate-700'\r\n                                        }`}\r\n                                >\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        {option.image && (\r\n                                            <img\r\n                                                src={option.image}\r\n                                                alt=\"\"\r\n                                                className=\"w-5 h-5 rounded-full object-cover bg-slate-900\"\r\n                                            />\r\n                                        )}\r\n                                        <span>{option.label}</span>\r\n                                    </div>\r\n                                    {option.value === value && <Check className=\"w-4 h-4\" />}\r\n                                </button>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\ui\\PasswordInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\components\\ui\\Toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\context\\CountryContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":39,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1721,1724],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1721,1724],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { useCountryDetection } from '../hooks/useCountryDetection';\r\n\r\ninterface CountryContextType {\r\n    countryCode: string;\r\n    countryName: string;\r\n    countryId?: string;\r\n    flagImage?: string;\r\n    setCountry: (code: string, name: string, id?: string, flagImage?: string) => void;\r\n    loading: boolean;\r\n}\r\n\r\nconst CountryContext = createContext<CountryContextType | undefined>(undefined);\r\n\r\nexport function CountryProvider({ children }: { children: React.ReactNode }) {\r\n    // Auto-detect on mount\r\n    const { countryCode: detectedCode, countryName: detectedName, loading: detectionLoading } = useCountryDetection();\r\n\r\n    const [countryCode, setCountryCode] = useState('Global');\r\n    const [countryName, setCountryName] = useState('Global');\r\n    const [countryId, setCountryId] = useState<string | undefined>(undefined);\r\n    const [flagImage, setFlagImage] = useState<string | undefined>(undefined);\r\n    const [isInitialized, setIsInitialized] = useState(false);\r\n\r\n    // Sync with detection and resolve ID\r\n    useEffect(() => {\r\n        const initialize = async () => {\r\n            if (!detectionLoading && !isInitialized && detectedCode !== 'Global') {\r\n                setCountryCode(detectedCode);\r\n                setCountryName(detectedName);\r\n\r\n                // Fetch countries to find ID and Flag if needed\r\n                try {\r\n                    // Lazy import to avoid circular dependency\r\n                    const { fetchCountries } = await import('@/lib/api');\r\n                    const countries = await fetchCountries();\r\n                    const matched = countries.find((c: any) => c.code === detectedCode);\r\n                    if (matched) {\r\n                        setCountryId(matched.id);\r\n                        if (matched.flagImage) setFlagImage(matched.flagImage);\r\n                    }\r\n                } catch (e) {\r\n                    console.error('Failed to resolve country ID', e);\r\n                }\r\n\r\n                setIsInitialized(true);\r\n            }\r\n        };\r\n        initialize();\r\n    }, [detectionLoading, detectedCode, detectedName, isInitialized]);\r\n\r\n    const handleSetCountry = (code: string, name: string, id?: string, flag?: string) => {\r\n        setCountryCode(code);\r\n        setCountryName(name);\r\n        setCountryId(id);\r\n        setFlagImage(flag);\r\n\r\n        // Persist override\r\n        localStorage.setItem('user_country_code', code);\r\n        localStorage.setItem('user_country_name', name);\r\n        if (id) localStorage.setItem('user_country_id', id); else localStorage.removeItem('user_country_id');\r\n        if (flag) localStorage.setItem('user_country_flag', flag); else localStorage.removeItem('user_country_flag');\r\n    };\r\n\r\n    // Load persisted ID/Flag on mount\r\n    useEffect(() => {\r\n        const cachedId = localStorage.getItem('user_country_id');\r\n        const cachedFlag = localStorage.getItem('user_country_flag');\r\n        if (cachedId) setCountryId(cachedId);\r\n        if (cachedFlag) setFlagImage(cachedFlag);\r\n    }, []);\r\n\r\n    return (\r\n        <CountryContext.Provider value={{ countryCode, countryName, countryId, flagImage, setCountry: handleSetCountry, loading: detectionLoading }}>\r\n            {children}\r\n        </CountryContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useCountry() {\r\n    const context = useContext(CountryContext);\r\n    if (context === undefined) {\r\n        throw new Error('useCountry must be used within a CountryProvider');\r\n    }\r\n    return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\hooks\\useCountryDetection.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'localeCode' is assigned a value but never used.","line":33,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":33,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\n\r\n// Using ipapi.co for free tier IP detection (no key needed for limited usage)\r\n// Fallback to 'Global' if fails\r\nexport const useCountryDetection = (initialCountry?: string) => {\r\n    const [countryCode, setCountryCode] = useState<string>(initialCountry || 'Global');\r\n    const [countryName, setCountryName] = useState<string>('Global');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (initialCountry) {\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        const detectCountry = async () => {\r\n            try {\r\n                // 1. Try localStorage\r\n                const cachedCountry = localStorage.getItem('user_country_code');\r\n                const cachedName = localStorage.getItem('user_country_name');\r\n\r\n                if (cachedCountry && cachedName) {\r\n                    setCountryCode(cachedCountry);\r\n                    setCountryName(cachedName);\r\n                    setLoading(false);\r\n                    return;\r\n                }\r\n\r\n                // 2. Try Browser Locale\r\n                if (typeof navigator !== 'undefined' && navigator.language) {\r\n                    const localeParts = navigator.language.split('-');\r\n                    if (localeParts.length === 2) {\r\n                        const localeCode = localeParts[1].toUpperCase();\r\n                        // We don't have the name easily without looking it up or having a map.\r\n                        // But we can set Code and fetch name via API or relying on app to find it?\r\n                        // Ideally we want both.\r\n                        // For now, let's proceed to IP if we want accurate name, OR use IP API as main source \r\n                        // but user requested \"Use browser APIs first\".\r\n\r\n                        // Issue: Browser just gives 'US', we need 'United States'.\r\n                        // If we trust IP API more for the name, we can stick to IP.\r\n                        // But request says \"Use browser APIs first\".\r\n                        // I will try IP first, if fails (AdBlock), THEN Browser Locale as fallback mechanisms?\r\n                        // \"Fix country auto-detection: Use browser APIs first (navigator.language / locale)\"\r\n\r\n                        // Okay, I'll attempt to use browser locale, but I need a way to get the Name.\r\n                        // I'll check if I can fetch the country list from my API to map Code -> Name?\r\n                        // That would be robust.\r\n                    }\r\n                }\r\n\r\n                // Default flow: IP Detection (Primary source of truth for \"Location\" usually)\r\n                // If user insisted on Browser API first, maybe they want to avoid IP calls if possible?\r\n                // But without a local map, mapping Code -> Name is hard.\r\n\r\n                // I will implements:\r\n                // 1. Check LocalStorage\r\n                // 2. Browser Locale -> if valid ISO, try to match with known countries?\r\n                //    Actually, simple IP detection is often better for \"Location\" than \"Locale\" (Language setting).\r\n                //    But I must follow instructions: \"Use browser APIs first\".\r\n\r\n                // Let's rely on IP API primarily because it gives the name required for the UI context.\r\n                // BUT, if it fails, fallback to Browser Locale.\r\n\r\n                const response = await fetch('https://ipapi.co/json/');\r\n                if (!response.ok) throw new Error('IP detection failed');\r\n\r\n                const data = await response.json();\r\n                const code = data.country_code;\r\n                const name = data.country_name;\r\n\r\n                if (code && name) {\r\n                    setCountryCode(code);\r\n                    setCountryName(name);\r\n                    localStorage.setItem('user_country_code', code);\r\n                    localStorage.setItem('user_country_name', name);\r\n                }\r\n            } catch (error) {\r\n                console.warn('IP Country detection failed, trying browser locale...', error);\r\n\r\n                // Fallback to Browser Locale\r\n                if (typeof navigator !== 'undefined' && navigator.language) {\r\n                    const parts = navigator.language.split('-');\r\n                    if (parts.length === 2) {\r\n                        const fallbackCode = parts[1].toUpperCase();\r\n                        setCountryCode(fallbackCode);\r\n                        // We set name to Code temporarily or \"Unknown\" until mapped?\r\n                        // Or imply \"Global\" but with a Code?\r\n                        setCountryName(fallbackCode); // Provide Code as Name fallback? Or just 'Global'?\r\n                        // A better approach: Leave it as detected code, let UI handle name lookup?\r\n                        // But Context expects Name.\r\n                        // I'll set Name = Code for fallback.\r\n                    }\r\n                }\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        detectCountry();\r\n    }, [initialCountry]);\r\n\r\n    return { countryCode, countryName, loading };\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\hooks\\useDebounce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\lib\\api.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":113,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":113,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3354,3357],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3354,3357],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":118,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":118,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3503,3506],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3503,3506],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import axios from 'axios';\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api';\r\n\r\nexport const api = axios.create({\r\n    baseURL: API_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n    timeout: 10000, // 10 seconds timeout\r\n    withCredentials: true // Enable cookie sending\r\n});\r\n\r\nexport const fetchCountries = async () => {\r\n    const response = await api.get('/countries');\r\n    return response.data;\r\n};\r\n\r\nexport const fetchCategories = async () => {\r\n    const response = await api.get('/categories');\r\n    return response.data;\r\n};\r\n\r\nexport const searchSites = async (\r\n    params: {\r\n        q?: string;\r\n        country?: string;\r\n        category?: string;\r\n        verification?: string;\r\n        page?: number;\r\n        limit?: number;\r\n    }\r\n) => {\r\n    const response = await api.get('/v1/search', { params });\r\n    return response.data;\r\n};\r\n\r\nexport const fetchSiteById = async (id: string) => {\r\n    const response = await api.get(`/sites/${id}`);\r\n    return response.data;\r\n};\r\n\r\nexport const fetchPendingSites = async () => {\r\n    const response = await api.get('/sites?status=PENDING');\r\n    return response.data;\r\n};\r\n\r\nexport const loginAdmin = async (credentials: { email: string; password: string; rememberMe?: boolean }) => {\r\n    const response = await api.post('/auth/login', credentials);\r\n    return response.data;\r\n};\r\n\r\nexport const logoutAdmin = async () => {\r\n    const response = await api.post('/auth/logout');\r\n    return response.data;\r\n};\r\n\r\nexport const fetchMe = async () => {\r\n    const response = await api.get('/auth/me');\r\n    return response.data;\r\n};\r\n\r\nexport const updateSiteStatus = async (id: string, status: string) => {\r\n    const response = await api.patch(`/sites/${id}/status`, { status });\r\n    return response.data;\r\n};\r\n\r\nexport const fetchReports = async () => {\r\n    const response = await api.get('/reports');\r\n    return response.data;\r\n};\r\n\r\n// Country Management\r\nexport const createCountry = async (data: { name: string; code: string; flagImage?: string }) => {\r\n    const response = await api.post('/countries', data);\r\n    return response.data;\r\n};\r\n\r\nexport const updateCountry = async (id: string, data: { name: string; code: string; flagImage?: string }) => {\r\n    const response = await api.patch(`/countries/${id}`, data);\r\n    return response.data;\r\n};\r\n\r\nexport const deleteCountry = async (id: string) => {\r\n    const response = await api.delete(`/countries/${id}`);\r\n    return response.data;\r\n};\r\n\r\n// Category Management\r\n// Category Management\r\nexport const createCategory = async (data: { name: string; priority: number }) => {\r\n    const response = await api.post('/categories', data);\r\n    return response.data;\r\n};\r\n\r\nexport const updateCategory = async (id: string, data: { name: string; priority: number }) => {\r\n    const response = await api.patch(`/categories/${id}`, data);\r\n    return response.data;\r\n};\r\n\r\nexport const deleteCategory = async (id: string) => {\r\n    const response = await api.delete(`/categories/${id}`);\r\n    return response.data;\r\n};\r\n\r\n\r\n// Site Management\r\nexport const fetchSites = async (params: { countryId?: string; categoryId?: string }) => {\r\n    const response = await api.get('/sites', { params });\r\n    return response.data;\r\n};\r\n\r\nexport const createSite = async (data: any) => {\r\n    const response = await api.post('/sites', data);\r\n    return response.data;\r\n};\r\n\r\nexport const updateSite = async (id: string, data: any) => {\r\n    const response = await api.patch(`/sites/${id}`, data);\r\n    return response.data;\r\n};\r\n\r\nexport const deleteSite = async (id: string) => {\r\n    const response = await api.delete(`/sites/${id}`);\r\n    return response.data;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\KAWSAR\\Desktop\\verlnk\\frontend\\src\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
